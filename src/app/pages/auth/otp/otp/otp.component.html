<section class="auth">
  <div class="container">
    <div class="row">
      <!-- LEFT SIDE: OTP Verification Form -->
      <div class="col-lg-5">
        <div class="auth__form-wrapper">
          <div class="auth__logo">
            <img src="assets/images/Logo.png" alt="Campused.ai" />
          </div>

          <h1 class="auth__title" style="margin-bottom: 0.5rem">
            Verify Your Email
          </h1>
          <p class="auth__subtitle">
            We've sent a 6-digit code to <strong>{{ email }}</strong
            >. Please enter it below.
          </p>

          <form
            [formGroup]="otpForm"
            (ngSubmit)="onSubmit()"
            class="auth__form"
          >
            <!-- OTP Input using ng-otp-input -->
            <div class="form-group">
              <label>Enter OTP Code</label>
              <ng-otp-input
                [config]="otpConfig"
                (onInputChange)="onOtpChange($event)"
              ></ng-otp-input>
              <div
                *ngIf="submitted && (otpForm.invalid || otp.length !== 6)"
                class="invalid-feedback"
                style="display: block"
              >
                <span>Please enter a valid 6-digit OTP</span>
              </div>
            </div>

            <!-- Resend OTP -->
            <div class="resend-section">
              <p *ngIf="!canResend" class="resend-timer">
                Resend code in <strong>{{ resendTimer }}s</strong>
              </p>
              <button
                type="button"
                class="resend-btn"
                [disabled]="!canResend"
                (click)="resendOtp()"
              >
                {{ canResend ? "Resend OTP" : "Resend OTP" }}
              </button>
            </div>

            <!-- Submit -->
            <button type="submit" class="btn btn--primary" [disabled]="loading">
              <span *ngIf="!loading">Verify & Continue</span>
              <span *ngIf="loading" class="loader"></span>
            </button>
            <!-- Footer -->
            <p class="auth__footer" style="margin-top: 8px">
              <a [routerLink]="'/forgot'">Change Email Address</a>
            </p>
          </form>
        </div>
      </div>

      <!-- RIGHT SIDE: Banner -->
      <div class="col-lg-7">
        <div class="auth__banner">
          <div class="banner-lineimg-2">
            <img src="assets/images/card-line-2.png" alt="Campused.ai" />
          </div>
          <div class="banner-lineimg">
            <img src="assets/images/card-line.png" alt="Campused.ai" />
          </div>
          <div class="banner-lineimg-3">
            <img src="assets/images/card-line-3.png" alt="Campused.ai" />
          </div>
          <div class="banner-lineimg-4">
            <img src="assets/images/card-line-4.png" alt="Campused.ai" />
          </div>
          <div class="banner-dot">
            <img src="assets/images/dot.png" alt="Campused.ai" />
          </div>
          <div class="banner-content">
            <div class="banner-text">
              <img src="assets/images/LoginScoller.png" alt="Campused.ai" />
            </div>
            <p class="banner-label">Campused.ai</p>
            <h2 class="banner-title">Welcome to Campused.ai</h2>
            <p class="banner-subtitle">
              Get AI-Powered summaries, quizzes, flashcards & voice notes to
              save time<br />and boost your scores.
            </p>

            <div class="banner-features">
              <h3>Study Smarter.<br />Crack Exams Faster</h3>

              <div class="feature-box">
                <ul class="feature-list">
                  <li>
                    <img src="assets/images/tick.png" alt="check" />
                    Trusted by 17,000+ Students
                  </li>
                  <li>
                    <img src="assets/images/tick.png" alt="check" />
                    Used for NEET, JEE, UPSC, IELTS & more
                  </li>
                  <li>
                    <img src="assets/images/tick.png" alt="check" />
                    Available in English, Hindi, Tamil & more
                  </li>
                </ul>

                <div class="user-avatars">
                  <img src="assets/images/person.jpg" alt="User 1" />
                  <img src="assets/images/person2.jpg" alt="User 2" />
                  <img src="assets/images/person3.jpg" alt="User 3" />
                  <img src="assets/images/person4.jpg" alt="User 4" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
